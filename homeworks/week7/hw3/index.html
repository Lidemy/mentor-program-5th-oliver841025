<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://necolas.github.io/normalize.css/8.0.1/normalize.css"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>TodoList</title>
  </head>
  <body>
    <div class="wrapper">
      <h1>What's Next ðŸ¤”</h1>
      <form class="todo__input-block">
        <input
          class="todo__input"
          type="text"
          placeholder="Let's Do Something Cool..."
          minlength="1"
          maxlength="48"
        />
        <button class="todo__add"></button>
      </form>
      <div class="todo__hr"></div>
      <ul class="todo__list">
        <li class="todo">
          <label class="todo__title">
            <input type="checkbox" class="todo__check" />
            <p>eat an apple</p>
          </label>
          <button class="btn-delete"></button>
        </li>

        <li class="todo">
          <label class="todo__title">
            <input type="checkbox" class="todo__check" />
            <p>write code</p>
          </label>
          <button class="btn-delete"></button>
        </li>

        <li class="todo">
          <label class="todo__title">
            <input type="checkbox" class="todo__check" checked />
            <p>work out</p>
          </label>
          <button class="btn-delete"></button>
        </li>

        <li class="todo">
          <label class="todo__title">
            <input type="checkbox" class="todo__check" checked />
            <p>feed dog</p>
          </label>
          <button class="btn-delete"></button>
        </li>

        <li class="todo">
          <label class="todo__title">
            <input type="checkbox" class="todo__check" />
            <p>send postcards</p>
          </label>
          <button class="btn-delete"></button>
        </li>
      </ul>
    </div>
    <script>
      const addTodos = () => {
        const inputValue = document.querySelector(".todo__input").value;
        if (inputValue.trim().length !== 0) {
          const newTodo = document.createElement("li");
          newTodo.classList.add("todo");
          newTodo.innerHTML = `
            <label class="todo__title">
              <input type="checkbox" class="todo__check" />
              <p>${inputValue}</p>
            </label>
            <button class="btn-delete"></button>
          `;
          document.querySelector(".todo__list").appendChild(newTodo);
          // æ¸…ç©ºè¼¸å…¥æ¬„
          document.querySelector(".todo__input").value = "";
        } else return;
      };

      // click æœƒæ–°å¢žäº‹ä»¶
      document.querySelector(".todo__add").addEventListener("click", (e) => {
        addTodos();
        // é é˜²é é¢æ›´æ–°
        e.preventDefault();
      });
      // Enter æœƒæ–°å¢žäº‹ä»¶
      document
        .querySelector(".todo__input")
        .addEventListener("keypress", (e) => {
          // åšä¸åŒç€è¦½å™¨çš„åˆ¤æ–·
          if (e.which === 13) addTodos();
        });

      // åˆªé™¤åŠŸèƒ½ï¼Œä½¿ç”¨äº‹ä»¶ä»£ç†
      document.querySelector(".todo__list").addEventListener("click", (e) => {
        const target = e.target;
        // ç§»é™¤ li
        if (target.classList.contains("btn-delete")) {
          target.parentNode.remove();
        }
      });
      //
    </script>
  </body>
</html>
